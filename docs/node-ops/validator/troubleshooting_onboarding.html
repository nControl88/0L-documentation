<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-node-ops/validator/troubleshooting_onboarding">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Documentation on Past Issues and Possible solutions | 0L Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ncontrol88.github.io/0L-documentation//docs/node-ops/validator/troubleshooting_onboarding"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Documentation on Past Issues and Possible solutions | 0L Documentation"><meta data-rh="true" name="description" content="Issues"><meta data-rh="true" property="og:description" content="Issues"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ncontrol88.github.io/0L-documentation//docs/node-ops/validator/troubleshooting_onboarding"><link data-rh="true" rel="alternate" href="https://ncontrol88.github.io/0L-documentation//docs/node-ops/validator/troubleshooting_onboarding" hreflang="en"><link data-rh="true" rel="alternate" href="https://ncontrol88.github.io/0L-documentation//docs/node-ops/validator/troubleshooting_onboarding" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bdfacdc9.css">
<link rel="preload" href="/assets/js/runtime~main.ccb9d533.js" as="script">
<link rel="preload" href="/assets/js/main.beba48a5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/0l-logo.png" alt="0L" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/0l-logo.png" alt="0L" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">0L Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Developer</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">0L&#x27;s Tech Stack</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/node-ops">Node Operations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Node Operations&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/node-ops/validator">Validator</a><button aria-label="Toggle the collapsible sidebar category &#x27;Validator&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/changing_onchain_ip_address">Update On-chain Node Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/cron_job_setup_for_validator_node_status">Cronjob setup for validator node status</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/node_falls_out_of_validator_set">How to Recover a Validator If It Stops Mining and Falls Out of the Set</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/node_statistics">Node Statistics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/resetting_val_configs">Recreate all configs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/node-ops/validator/troubleshooting_onboarding">Documentation on Past Issues and Possible solutions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/update_validator_to_operator_mapping">Update Validator to Operator mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/validator_daemon_configs">Running 0L validator as a system service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/validator_onboarding_easy_mode">Validator Onboarding Guide: Easy Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/validator_onboarding_hard_mode">Validator Onboarding Guide: Hard Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/vfn_validator_fullnode_setup">Validator node file</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/web_monitor">How to Configure Web Monitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/node-ops/validator/web_monitor_account_dictionary">How to Configure Web Monitor Account Dictionary</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/node-ops"><span itemprop="name">Node Operations</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/node-ops/validator"><span itemprop="name">Validator</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Documentation on Past Issues and Possible solutions</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Documentation on Past Issues and Possible solutions</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="issues">Issues<a class="hash-link" href="#issues" title="Direct link to heading">​</a></h2><ol><li><a href="#issue-1">Validator logs show &quot;Too many open files&quot; or &quot;File descriptor limit exceeded&quot; error and tower app is stopped</a></li><li><a href="#issue-2">Tower start: Epochs not consecutive</a></li><li><a href="#issue-3">DB should open</a></li><li><a href="#issue-4">Tower start: EOF error</a></li><li><a href="#issue-5">When trying to start the tower app, a response was received from an upstream_node but not a remote tower state</a></li><li><a href="#issue-6">When a fullnode (diem-node) has started, in the logs it states that a response was received from an upstream_node but not a remote tower state.</a></li><li><a href="#issue-7">When trying to start the web monitor, Connection Failed: Connection refused (os error 111)</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-issue-too-many-open-files"><a id="issue-1"></a> Issue &quot;Too many open files&quot;<a class="hash-link" href="#-issue-too-many-open-files" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="validator-logs-show-too-many-open-files-or-file-descriptor-limit-exceeded-error-and-tower-app-is-stopped">Validator logs show &quot;Too many open files&quot; or &quot;File descriptor limit exceeded&quot; error and tower app is stopped<a class="hash-link" href="#validator-logs-show-too-many-open-files-or-file-descriptor-limit-exceeded-error-and-tower-app-is-stopped" title="Direct link to heading">​</a></h3><p>The validator is not voting or syncing and the file descriptor limit exceeded error is shown in the node logs. Tower app is stuck at a proof unable to submit the transaction with &quot;.....&quot;.</p><p><strong>Temporary Solution:</strong></p><p>This is an issue with the file descriptor limit being exceeded.</p><ol><li>Go to the <strong>diem-node.service</strong> template you are using for starting the node.</li><li>Update <strong>LimitNOFILE=200000</strong></li><li>Restart node: <strong>make daemon</strong></li><li>Restart tower app: <strong>tower -o start</strong></li></ol><p><em>Note: This is until we figure out a better way not to reach the limit.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-issue-epochs-are-not-consecutive"><a id="issue-2"></a> Issue: Epochs are not consecutive<a class="hash-link" href="#-issue-epochs-are-not-consecutive" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tower-app-starts-but-throws-error-on-transaction-failed-to-get-state-proof-with-errorepochs-are-not-consecutive">Tower app starts but throws error on transaction: Failed to get state proof with error...Epochs are not consecutive<a class="hash-link" href="#tower-app-starts-but-throws-error-on-transaction-failed-to-get-state-proof-with-errorepochs-are-not-consecutive" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Backlog: resubmitting missing blocks.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The application panicked (crashed).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Message:  called `Result::unwrap()` on an `Err` value: Failed to get state proof with error: JsonRpcError { code: -32000, message: &quot;Server error: Epochs are not consecutive.&quot;, data: None }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Location: tower/src/submit_tx.rs:...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Backtrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Run with RUST_BACKTRACE=full to include source snippets.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Solution:</strong></p><p>It is possible that waypoint that tower app is using might be wrong. You can check the waypoint by looking at the logs on tower start.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> Waypoint: No waypoint parsed from command line args. Searching for waypoint in key_store.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[tower/src/config.rs:...] &amp;value = &quot;xxxxx&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If it is not the right one. This needs to be updated in key_store.json under the key: &quot;oper/waypoint&quot;. Update the value for this key with the waypoint your node synced from.</p><p><strong>Fetching Waypoint:</strong></p><ol><li>Use the waypoint value in restore_waypoint.</li><li>If the file is not there, this needs to be fetched from an existing node.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-issue-db-should-open-libradblock-permission-denied"><a id="issue-3"></a> Issue: DB should open... libradb/LOCK: Permission denied<a class="hash-link" href="#-issue-db-should-open-libradblock-permission-denied" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2021-04-08T18:20:16.758813Z [main] ERROR common/crash-handler/src/lib.rs:38 details = &#x27;&#x27;&#x27;panicked at &#x27;DB should open.: IO error: while open a file for lock: /home/ubuntu/.0L/db/libradb/LOCK: Permission denied&#x27;, diem-node/src/lib.rs:285:10&#x27;&#x27;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You may be running <code>diem-node</code> in a separate process. In that case there may be concurrent writes happening.</p><p><strong>Solution:</strong></p><ul><li>Stop all diem-node instances. <code>killall diem-node</code> or if you used makefile to start systemd: <code>make stop</code></li><li>Restart diem-node</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-issue-tower-app-start-eof-error"><a id="issue-4"></a> Issue: Tower App start: EOF error<a class="hash-link" href="#-issue-tower-app-start-eof-error" title="Direct link to heading">​</a></h2><p><strong>Problem:</strong></p><p>Validator node ran out of space and tower app created empty block<!-- -->_<!-- -->.json file. When starting tower app below error is observed:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Message: Error EOF while parsing a value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Location: tower/src/block.rs:....</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Solution:</strong></p><p>Check if the last block proof created is empty. If so, remove the file and start the tower app again. This is after the node is caught up on the network.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-issue-received-response-but-no-remote-state-found"><a id="issue-5"></a> Issue: Received response but no remote state found<a class="hash-link" href="#-issue-received-response-but-no-remote-state-found" title="Direct link to heading">​</a></h2><p><strong>Problem:</strong></p><p>When trying to start the tower app, a response was received from an upstream_node but not a remote tower state.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Message:  called `Result::unwrap()` on an `Err` value: Info: Received response but no remote state found. Exiting.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Location: ol/tower/src/backlog.rs:27</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Solution:</strong></p><p>There could be an issue with the address used for the validator, or an issue with mining the genesis block.
If you have another address that has already been onboarded and being used for mining normally, you can try the following:</p><ul><li>change your <code>acount</code> and <code>auth_key</code> set in <code>~/.0L/0L.toml</code> under <code>[profile]</code> with details of your existing address.</li><li>start tower again with <code>tower start</code>, <code>tower -u &lt;upstream-ip-address&gt; start</code> or with whatever flags you were trying to start tower with.</li><li>you should now see <code>Mining VDF Proof # 1</code> or similar in the logs.</li><li>If this works, you should use this address as the validator. To do this, you will need to follow step 2.2 onwards again from <a href="/docs/node-ops/validators/validator_onboarding_hard_mode.md#2-generate-account-keys">the hard onboarding guide</a>, making sure to use the mnemonic of the working address when using <code>onboard val</code></li></ul><p>Alternatively, you can try a brand new address:</p><ul><li>make sure it is onboarded to the network already (not validator yet). If you are able to mine using Carpe on another device, it&#x27;s highly likely this address will work.</li><li>change your <code>acount</code> and <code>auth_key</code> set in <code>~/.0L/0L.toml</code> under <code>[profile]</code> with details of your new address.</li><li>start tower again with <code>tower start</code>, <code>tower -u &lt;upstream-ip-address&gt; start</code> or with whatever flags you were trying to start tower with.</li><li>you should now see <code>Mining VDF Proof # 1</code> or similar in the logs.</li><li>If this works, you should use this address as the validator. To do this, you will need to follow step 2.2 onwards again from <a href="/docs/node-ops/validators/validator_onboarding_hard_mode.md#2-generate-account-keys">the hard onboarding guide</a>, making sure to use the mnemonic of the working address when using <code>onboard val</code></li></ul><p>If this doesn&#x27;t work, it can also be caused by <a href="#issue-7">When trying to start the web monitor, Connection Failed: Connection refused (os error 111)</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-issue-noavailablepeers-after-the-fullnode-diem-node-has-been-started"><a id="issue-6"></a> Issue: NoAvailablePeers after the fullnode (diem-node) has been started.<a class="hash-link" href="#-issue-noavailablepeers-after-the-fullnode-diem-node-has-been-started" title="Direct link to heading">​</a></h2><p><strong>Problem:</strong></p><p>When a fullnode (diem-node) has started, in the logs it states that a response was received from an upstream_node but not a remote tower state.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2022-02-05T11:55:46.052036Z [state-sync] ERROR state-sync/src/coordinator.rs:219 {&quot;error&quot;:&quot;NoAvailablePeers(\&quot;No peers to send chunk request to!\&quot;)&quot;,&quot;event&quot;:&quot;fail&quot;,&quot;name&quot;:&quot;progress_check&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2022-02-05T11:55:46.551657Z [state-sync] WARN state-sync/src/coordinator.rs:1514 {&quot;name&quot;:&quot;timeout&quot;,&quot;version&quot;:23877219}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2022-02-05T11:55:46.551690Z [state-sync] WARN state-sync/src/coordinator.rs:1567 {&quot;event&quot;:&quot;missing_peers&quot;,&quot;name&quot;:&quot;send_chunk_request&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2022-02-05T11:55:46.551818Z [state-sync] ERROR state-sync/src/coordinator.rs:1547 {&quot;error&quot;:&quot;NoAvailablePeers(\&quot;No peers to send chunk request to!\&quot;)&quot;,&quot;event&quot;:&quot;send_chunk_request_fail&quot;,&quot;local_epoch&quot;:102,&quot;name&quot;:&quot;timeout&quot;,&quot;version&quot;:23877219}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2022-02-05T11:55:46.551895Z [state-sync] ERROR state-sync/src/coordinator.rs:219 {&quot;error&quot;:&quot;NoAvailablePeers(\&quot;No peers to send chunk request to!\&quot;)&quot;,&quot;event&quot;:&quot;fail&quot;,&quot;name&quot;:&quot;progress_check&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Solution:</strong></p><p>All you need to do is: <code>ol restore</code></p><p>The issue occured perhaps due to configs not fully updated after changing the address or mnemonic associated with the fullnode. <code>ol restore</code> will set the waypoint and update the <code>key_Store.json</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-issue-when-trying-to-start-the-web-monitor-connection-failed-connection-refused-os-error-111"><a id="issue-7"></a> Issue: When trying to start the web monitor, Connection Failed: Connection refused (os error 111)<a class="hash-link" href="#-issue-when-trying-to-start-the-web-monitor-connection-failed-connection-refused-os-error-111" title="Direct link to heading">​</a></h2><p><strong>Problem:</strong></p><p>When starting the web_monitor, you may get <code>Connection Failed: Connection refused (os error 111)</code>.</p><p>You may also either have issue 5. <a href="#issue-5">When trying to start the tower app, a response was received from an upstream_node but not a remote tower state</a>, the solution here could fix that too.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">can make client but could not get metadata Error { inner: Inner { kind: Request, source: Some(ConnectionFailed(&quot;Connection refused (os error 111)&quot;)), json_rpc_error: None } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Caused by:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Connection Failed: Connection refused (os error 111)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ERROR: could not create client connection, message: Cannot connect to any JSON RPC peers in the list of upstream_nodes in 0L.toml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Solution:</strong></p><p>There may be a bad IP address, <code>upstream_nodes</code>, being used in <code>~/.0L/0L.toml</code>. Try changing the ip address there to one from <a href="https://github.com/OLSF/carpe/blob/main/seed_peers/fullnode_seed_playlist.json" target="_blank" rel="noopener noreferrer">here</a>.
::</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nControl88/0l-documentation/tree/main/docs/node-ops/validator/troubleshooting_onboarding.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/node-ops/validator/resetting_val_configs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Recreate all configs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/node-ops/validator/update_validator_to_operator_mapping"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Update Validator to Operator mapping</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#issues" class="table-of-contents__link toc-highlight">Issues</a></li><li><a href="#-issue-too-many-open-files" class="table-of-contents__link toc-highlight"><a id="issue-1"></a> Issue &quot;Too many open files&quot;</a><ul><li><a href="#validator-logs-show-too-many-open-files-or-file-descriptor-limit-exceeded-error-and-tower-app-is-stopped" class="table-of-contents__link toc-highlight">Validator logs show &quot;Too many open files&quot; or &quot;File descriptor limit exceeded&quot; error and tower app is stopped</a></li></ul></li><li><a href="#-issue-epochs-are-not-consecutive" class="table-of-contents__link toc-highlight"><a id="issue-2"></a> Issue: Epochs are not consecutive</a><ul><li><a href="#tower-app-starts-but-throws-error-on-transaction-failed-to-get-state-proof-with-errorepochs-are-not-consecutive" class="table-of-contents__link toc-highlight">Tower app starts but throws error on transaction: Failed to get state proof with error...Epochs are not consecutive</a></li></ul></li><li><a href="#-issue-db-should-open-libradblock-permission-denied" class="table-of-contents__link toc-highlight"><a id="issue-3"></a> Issue: DB should open... libradb/LOCK: Permission denied</a></li><li><a href="#-issue-tower-app-start-eof-error" class="table-of-contents__link toc-highlight"><a id="issue-4"></a> Issue: Tower App start: EOF error</a></li><li><a href="#-issue-received-response-but-no-remote-state-found" class="table-of-contents__link toc-highlight"><a id="issue-5"></a> Issue: Received response but no remote state found</a></li><li><a href="#-issue-noavailablepeers-after-the-fullnode-diem-node-has-been-started" class="table-of-contents__link toc-highlight"><a id="issue-6"></a> Issue: NoAvailablePeers after the fullnode (diem-node) has been started.</a></li><li><a href="#-issue-when-trying-to-start-the-web-monitor-connection-failed-connection-refused-os-error-111" class="table-of-contents__link toc-highlight"><a id="issue-7"></a> Issue: When trying to start the web monitor, Connection Failed: Connection refused (os error 111)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ccb9d533.js"></script>
<script src="/assets/js/main.beba48a5.js"></script>
</body>
</html>